<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
        {% block head %}
            <title>
                {% block title %}{% endblock %}
            - Azure Subscription Scanner</title>
        {% endblock %}
    </head>
    <body>
        <div id="bodyheader"> Azure Custom Compliance Portal
        </div>
        <div class = "centerheading">Role Assignments</div>
            <table class = "table-data">
                <thead>
                    <tr>
                        <th>Object Type</th>
                        <th>Object Name</th>
                        <th>Scope</th>
                    </tr>
                </thead>
                <tbody>
                    {% for dict_items in rbac_details %}
                        <tr>
                            {% if "appId" in dict_items %}
                                <td>Service Principal</td>
                                <td>{{ dict_items["displayName"] }}</td>
                                <td>{{ dict_items["scope"] }}</td>
                            {% elif "groupTypes" in dict_items %}
                                <td>Group</td>
                                <td>{{ dict_items["displayName"] }}</td>
                                <td>{{ dict_items["scope"] }}</td>
                            {% elif "givenName" in dict_items %}
                                <td>User</td>
                                <td>{{ dict_items["displayName"] }}</td>
                                <td>{{ dict_items["scope"] }}</td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            
        
    </body>
</html>
